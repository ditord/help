var b=Object.defineProperty;var y=(n,t,e)=>t in n?b(n,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[t]=e;var h=(n,t,e)=>y(n,typeof t!="symbol"?t+"":t,e);import{w as x}from"./with-props-VUtdpQLw.js";import{x as w,y as g,a as T,o as u}from"./chunk-D4RADZKF-D0y6_6vf.js";import{m as L}from"./metadata-DLf4rrAq.js";import{b as N}from"./useCaseTabStore-D96fKAJI.js";import{d as S}from"./dictionary-Dmeu-I17.js";class C{constructor(t,e){h(this,"element");h(this,"description");h(this,"tooltipElement",null);h(this,"isVisible",!1);if(typeof t=="string"){const s=document.querySelector(t);if(!s)throw new Error(`Element with selector "${t}" not found`);this.element=s}else this.element=t;this.description=e,this.init()}init(){this.element.hasAttribute("data-title")||this.element.setAttribute("data-title",this.description),this.element.addEventListener("mouseenter",this.showTooltip.bind(this)),this.element.addEventListener("mouseleave",this.hideTooltip.bind(this)),this.element.addEventListener("mousemove",this.updatePosition.bind(this))}createTooltipElement(){const t=document.createElement("div");t.className=`
      absolute z-50 px-3 py-2 text-sm font-medium text-white bg-gray-900 
      rounded-lg shadow-sm tooltip pointer-events-none transition-opacity 
      duration-300 opacity-0 max-w-xs break-words
    `.trim().replace(/\s+/g," "),t.textContent=this.description;const e=document.createElement("div");return e.className=`
      absolute top-full left-1/2 transform -translate-x-1/2 
      border-4 border-transparent border-t-gray-900
    `.trim().replace(/\s+/g," "),t.appendChild(e),t}showTooltip(t){this.isVisible||(this.tooltipElement=this.createTooltipElement(),document.body.appendChild(this.tooltipElement),this.updatePosition(t),requestAnimationFrame(()=>{this.tooltipElement&&(this.tooltipElement.classList.remove("opacity-0"),this.tooltipElement.classList.add("opacity-100"))}),this.isVisible=!0)}hideTooltip(){var t,e;!this.isVisible||!this.tooltipElement||(this.tooltipElement.classList.remove("opacity-100"),this.tooltipElement.classList.add("opacity-0"),(e=(t=this.tooltipElement)==null?void 0:t.parentNode)==null||e.removeChild(this.tooltipElement),this.tooltipElement=null,this.isVisible=!1)}updatePosition(t){if(!this.tooltipElement)return;const e=this.tooltipElement,s=t.clientX,r=t.clientY,m=window.pageXOffset,a=window.pageYOffset,d=e.getBoundingClientRect(),o=d.width,f=d.height;let l=s+m-o/2,i=r+a-f-10;const c=window.innerWidth;if(l<0?l=10:l+o>c&&(l=c-o-10),i<a){i=r+a+10;const p=e.querySelector("div");p&&(p.className=`
          absolute bottom-full left-1/2 transform -translate-x-1/2 
          border-4 border-transparent border-b-gray-900
        `.trim().replace(/\s+/g," "))}e.style.left=`${l}px`,e.style.top=`${i}px`}destroy(){this.element.removeEventListener("mouseenter",this.showTooltip.bind(this)),this.element.removeEventListener("mouseleave",this.hideTooltip.bind(this)),this.element.removeEventListener("mousemove",this.updatePosition.bind(this)),this.tooltipElement&&this.tooltipElement.parentNode&&this.tooltipElement.parentNode.removeChild(this.tooltipElement)}}function D({location:n}){var o;const t=n.pathname.match(/\/(\w+)\/help\/(\w+)\/case-(\d+)\.(\d+)/);if(!t)return;const[e,s,r,m,a]=t,d=`${r}/case-${m}.${a}`;return(o=L[d])==null?void 0:o[s]}const P=x(function(){const t=w(),e=N(o=>o.activeTab),{content:s,lang:r,caseId:m,optionId:a,userType:d}=g();return T.useEffect(()=>{const o=document.getElementById("case-content");o==null||o.scrollTo({top:0});const f=o==null?void 0:o.querySelectorAll("a");f&&f.forEach(i=>{if(i.href&&i.href.startsWith("to:")){const c=i.href.replace("to:",`/${r}`);i.href=c,i.addEventListener("click",p=>{p.preventDefault(),t(c,{preventScrollReset:!0})})}else i.target="_blank",i.rel="noopener noreferrer"});const l=o==null?void 0:o.querySelectorAll("[data-title]");l==null||l.forEach(i=>{var E;const c=i.getAttribute("data-title"),p=((E=S.find(v=>v.word===c))==null?void 0:E.description)||"";i.classList.add("cursor-help"),i.style.color="#0662a2",i.style.textDecoration="none",i.style.fontWeight="bold",p&&new C(i,p)})},[e,m,a,r,d]),u.jsxs("div",{className:"w-full h-full flex flex-col",children:[s[e]&&s[e].navigation?u.jsx("div",{className:"py-3 px-5",children:u.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:s[e]&&s[e].navigation}})}):null,u.jsx("main",{id:"case-content",className:"overflow-x-hidden overflow-y-scroll h-full px-5 py-4",children:u.jsx("div",{className:"prose max-w-none",dangerouslySetInnerHTML:{__html:s[e]&&s[e].text}})})]})});export{P as default,D as meta};
