import{z as T}from"./chunk-D4RADZKF-D0y6_6vf.js";const H=e=>{let t;const n=new Set,o=(a,p)=>{const m=typeof a=="function"?a(t):a;if(!Object.is(m,t)){const w=t;t=p??(typeof m!="object"||m===null)?m:Object.assign({},t,m),n.forEach(f=>f(t,w))}},i=()=>t,c={setState:o,getState:i,getInitialState:()=>l,subscribe:a=>(n.add(a),()=>n.delete(a))},l=t=e(o,i,c);return c},O=e=>e?H(e):H,j=e=>e;function R(e,t=j){const n=T.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getInitialState()));return T.useDebugValue(n),n}const W=e=>{const t=O(e),n=o=>R(t,o);return Object.assign(n,t),n},b=e=>e?W(e):W,x=b(e=>({width:typeof window<"u"?window.innerWidth:0,height:typeof window<"u"?window.innerHeight:0,isMobile:typeof window<"u"?window.innerWidth<768:!1,isTablet:typeof window<"u"?window.innerWidth>=768&&window.innerWidth<1024:!1,isDesktop:typeof window<"u"?window.innerWidth>=1024:!1,updateWindowDimensions:()=>{if(typeof window>"u")return;const t=window.innerWidth,n=window.innerHeight;e({width:t,height:n,isMobile:t<768,isTablet:t>=768&&t<1024,isDesktop:t>=1024})}}));function k(e,t){let n;try{n=e()}catch{return}return{getItem:i=>{var s;const h=l=>l===null?null:JSON.parse(l,void 0),c=(s=n.getItem(i))!=null?s:null;return c instanceof Promise?c.then(h):h(c)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const S=e=>t=>{try{const n=e(t);return n instanceof Promise?n:{then(o){return S(o)(n)},catch(o){return this}}}catch(n){return{then(o){return this},catch(o){return S(o)(n)}}}},D=(e,t)=>(n,o,i)=>{let s={storage:k(()=>localStorage),partialize:r=>r,version:0,merge:(r,v)=>({...v,...r}),...t},h=!1;const c=new Set,l=new Set;let a=s.storage;if(!a)return e((...r)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(...r)},o,i);const p=()=>{const r=s.partialize({...o()});return a.setItem(s.name,{state:r,version:s.version})},m=i.setState;i.setState=(r,v)=>{m(r,v),p()};const w=e((...r)=>{n(...r),p()},o,i);i.getInitialState=()=>w;let f;const I=()=>{var r,v;if(!a)return;h=!1,c.forEach(u=>{var d;return u((d=o())!=null?d:w)});const y=((v=s.onRehydrateStorage)==null?void 0:v.call(s,(r=o())!=null?r:w))||void 0;return S(a.getItem.bind(a))(s.name).then(u=>{if(u)if(typeof u.version=="number"&&u.version!==s.version){if(s.migrate){const d=s.migrate(u.state,u.version);return d instanceof Promise?d.then(g=>[!0,g]):[!0,d]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,u.state];return[!1,void 0]}).then(u=>{var d;const[g,_]=u;if(f=s.merge(_,(d=o())!=null?d:w),n(f,!0),g)return p()}).then(()=>{y==null||y(f,void 0),f=o(),h=!0,l.forEach(u=>u(f))}).catch(u=>{y==null||y(void 0,u)})};return i.persist={setOptions:r=>{s={...s,...r},r.storage&&(a=r.storage)},clearStorage:()=>{a==null||a.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>I(),hasHydrated:()=>h,onHydrate:r=>(c.add(r),()=>{c.delete(r)}),onFinishHydration:r=>(l.add(r),()=>{l.delete(r)})},s.skipHydration||I(),f||w},E=D,F=b()(E(e=>({userType:null,setUserType:t=>e({userType:t}),resetUserType:()=>e({userType:null})}),{name:"cyberhub-user-storage",partialize:e=>({userType:e.userType})})),J=b()(e=>({activeTab:"tec",setActiveTab:t=>e({activeTab:t})}));export{F as a,J as b,x as u};
